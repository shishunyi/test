(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user"],{1511:function(a,t,e){"use strict";e.r(t);var s=function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"user",attrs:{layout:""}},[s("div",{staticClass:"app-bar"},[s("mu-icon",{staticClass:"left",attrs:{value:"arrow_back",left:""},on:{click:function(t){a.$router.back()}}}),s("span",{staticClass:"mid"},[a._v("个人中心")]),s("a",{staticClass:"right",attrs:{href:"javascript: void(0)"},on:{click:a.handleClickSave}},[a._v("保存")])],1),s("mu-container",{directives:[{name:"loading",rawName:"v-loading",value:a.loading2,expression:"loading2"}],staticClass:"content"},[s("div",{staticClass:"header"},[s("div",{directives:[{name:"elevation",rawName:"v-elevation",value:5,expression:"5"}],staticClass:"avatar"},[a.headimgurl?s("img",{staticStyle:{width:"100%",height:"100%","border-radius":"50%"},attrs:{src:""+a.$url+a.headimgurl}}):s("img",{staticStyle:{width:"1rem",height:"0.76rem"},attrs:{src:e("39a1")}})]),s("cube-upload",{ref:"upload",attrs:{action:"/api/upload"},on:{"files-added":a.startUpload,"file-success":a.avatarUpdate},model:{value:a.avatars,callback:function(t){a.avatars=t},expression:"avatars"}},[s("div",[s("cube-upload-btn",{attrs:{multiple:!1}},[s("mu-button",{attrs:{small:"",color:"#44a0ff"}},[a._v("上传头像")])],1)],1)])],1),s("mu-text-field",{attrs:{"full-width":""},model:{value:a.nickname,callback:function(t){a.nickname=t},expression:"nickname"}},[s("div",{staticClass:"input-prefix",attrs:{slot:"prepend"},slot:"prepend"},[a._v("个人昵称：")])]),s("mu-text-field",{attrs:{"full-width":""},model:{value:a.password,callback:function(t){a.password=t},expression:"password"}},[s("div",{staticClass:"input-prefix",attrs:{slot:"prepend"},slot:"prepend"},[a._v("登录密码：")])]),s("mu-text-field",{attrs:{"full-width":"",disabled:""},model:{value:a.userInfo.id,callback:function(t){a.$set(a.userInfo,"id",t)},expression:"userInfo.id"}},[s("div",{staticClass:"input-prefix",attrs:{slot:"prepend"},slot:"prepend"},[a._v("个人编号：")])]),s("div",{staticClass:"text-field"},[s("label",{staticClass:"input-prefix"},[a._v("个人名片")]),s("cube-upload",{ref:"upload",staticStyle:{display:"flex","align-items":"center"},attrs:{action:"/api/upload"},on:{"files-added":a.startUpload,"file-success":a.cardUpdate},model:{value:a.card,callback:function(t){a.card=t},expression:"card"}},[s("img",{staticClass:"pic",attrs:{src:""+a.$url+a.translate}}),s("span",[s("cube-upload-btn",{attrs:{multiple:!1}},[s("mu-button",{attrs:{small:"",color:"#44a0ff"}},[a._v("上传名片")])],1)],1)])],1)],1),s("Navigation",{attrs:{data:a.menus}})],1)},i=[],n=(e("cadf"),e("551c"),e("097d"),e("f4dd")),l=e("9c9e"),r={name:"user",mixins:[l["a"]],components:{Navigation:n["a"]},data:function(){return{menus:[{label:"返回领地",path:"home"},{label:"个人中心",path:""}],gameid:"",headimgurl:"",nickname:"",translate:"",username:"",password:"",id:"",avatars:[],card:[],loading2:!0}},mounted:function(){this.fetchUserInfo()},computed:{userInfo:function(){return JSON.parse(localStorage.getItem("userInfo"))}},methods:{fetchUserInfo:function(){var a=this;console.log(this.userInfo),this.$http.post("/api/memberInfo",{uid:this.userInfo.id}).then(function(t){var e=t.data.msg;0==t.data.code&&(a.gameid=e.gameid,a.headimgurl=e.headimgurl,a.nickname=e.nickname,a.translate=e.translate,a.username=e.username,a.password=e.remake,a.loading2=!1)})},handleClickSave:function(){var a=this;this.$http.post("/api/memberInfo",{id:this.userInfo.id,gameid:this.gameid,headimgurl:this.headimgurl,nickname:this.nickname,translate:this.translate,username:this.username,password:this.password}).then(function(t){var e=t.data.msg;0==t.data.code?a.$toast.success(e):a.$toast.error(e)})},avatarUpdate:function(a){var t=this;this.$nextTick(function(){0==a.response.errcode&&(t.headimgurl=a.response.message,t.endUpload())})},cardUpdate:function(a){var t=this;this.$nextTick(function(){0==a.response.errcode&&(t.translate=a.response.message,t.endUpload())})}}},o=r,c=(e("e14e"),e("2877")),d=Object(c["a"])(o,s,i,!1,null,"bfed1aae",null);d.options.__file="User.vue";t["default"]=d.exports},"1e64":function(a,t,e){},"39a1":function(a,t){a.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAAA5CAYAAAB+pNYgAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4BpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkMzBkMWU4MS04YjRlLWViNDktOTY5MC0xMjI1ZDQ0NTA1MDQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUExRDc5MjYxQkQ2MTFFOUFFRURBMzA4MUYzMUY2RUMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUExRDc5MjUxQkQ2MTFFOUFFRURBMzA4MUYzMUY2RUMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpiZjg3Nzk1NC04M2YwLTdjNGQtYjhiMC1kZGUzNzFjNzk3OWEiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDoyZmVjYTUxYi0xM2U0LTExZTktODhiMS1hYzNiN2JhYjE3MGIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4K5nJNAAAEfUlEQVR42uybV2gVQRSG597cmFjREBRjwRpbLLGABgQLgqIPRs2DRqJ5ER9UsCP64otiBQuIIIiCRGzYsD0oGIygoqlqjNGHoGk2YkQw6vofdxZCzM7uvZmZzZr94UOZuTs7e7Jz5syZ2ZBhGEyD5oI5YAiIk9juL/AG3AG3VT9ESLGxUsAesFzDH+Q02AJq/WiskSAfJDN9qgEZ4K2fjJUAKkE/pl9kqOF8iEpVWFGH13hkKNJgsEpFw6qMlcO8VY5fjEU+KtVjY40CPfzgs+LBD+a9qB8/ZTYYcZjNUmJ4+1JY+1A2eBflNb/5NeVu3iyaxbaBLP4qh1jHExnkBTgHdjcfJc2NNQ5cAkNZIEuvwSJQ0txYA0Ep6B7Y5x81gDRQZfmjs4GhbEWz6nnrzZqOf+8HNnHUrLCmRe7/oNwwH4+BnDUloiLS9YF+RhFvWkoKdzAjVfAQqX8LKCl5z2lpGOFBWHvQR/AcfOb/p4xqEugNxoLOEu5xx4qZWlEemCmK7iMeG6iGR8qXQRH4JFhCTeMB4hLQSdLwa64m59jeMIoN/foItoPuFBRHyUCwC/yO4b4PQZxNu2ccrq2lOKuYv+a6dAasB/VtbCedmXn3aGdzWsJ8aFHWhfsykep0G2sr2CuxPZqgLoBMDX2v1zkbrpNsKCulsognAJRLl4M/CI64+N0YMBl0A43gCShzcd1iUMAnAXWpGw0OvtDBYXcFW0GpzfUlYDNIdGinJ/ii8DlqdRgrTfCAGaDSZTvlYJKDwVYofI461T4rj+fJWtMC8IBHz25EmyCPHQLHU+CVqmGo2lg7bcppb+9aDO1RmvsG6CP4zR5VD6PSWOScywWxVqxKBCcF9ZSo+6bgeUIqjXXdpnyGhFlrHphgU/eVmWcsfPVmPbIpl7VbnC2oe+wnYxk8HdKaJkq6R7qgToWTV+bgyWc0tFJupV1kSLSZW+0nn9Vkkyej5YmsrX1RmqbRT8Ows81SypCQbbAkOuEX76dhSNN7T5u6Ukn3KBTUJftpGJKG2ZRflNT+WYdo31cR/GSb8lsuMwkiFTjEUlP9FmctENTltrHtlYK6BB74+spYFE+NFgSNq2Nsd6EghiNRMrCX33wWaYeg7jhYFsU6jg6ZzQZXHH63za9Zh6VMvKGQx+tP2ASxpDpwiJn7BHcd7pfFFO4n6NiweOZyidMXjAcjeJRP8RidwHvKzI1XN+FKFVP3kUK9rt2dfcz8VESlbjLzGyFV0ra7s7kNDt2NDig2lPLZsKWOgY0K2j0MNmjov6H7FM1+Zp5t6CuhLfJvlMNfq6vzXhw5ohnrJdgkWD+KNIT7QJo4MjT2O0QOvkwQPKoWnZqhEzSX+KxXLTDQVB5wZnr0R/5AxqJOpjPvRblz2uR4z8zP3yj3RameQXydGedx/2oiPDJuD8aio+UzWfvV303WeyyQG+XTMKRomU7gxQf2ECo1zJ3sksAWQlF4UmHNKleZ+fHA98Au/4gC3qPWQrrlFE1Lk/lgQAc2EM3It/jqoMgq/CPAAGDJNKipcjj1AAAAAElFTkSuQmCC"},e14e:function(a,t,e){"use strict";var s=e("1e64"),i=e.n(s);i.a}}]);